<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deep Cleaning Price Calculator</title>

  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "vj9i1sfm9b");
  </script>

  <style>
    :root{
      /* Palette aligned to your creative (yellow + dark) */
      --bg:#f5f7fb;
      --card:#ffffff;
      --text:#121212;
      --muted:#5c636b;
      --border:rgba(18,18,18,.12);

      --accent:#f5c400;     /* primary yellow */
      --accentDark:#1a1a1a; /* near-black */
      --shadow: 0 18px 55px rgba(0,0,0,.10);
      --radius:18px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 520px at 25% 0%, rgba(245,196,0,.22), transparent 60%),
        radial-gradient(760px 520px at 85% 10%, rgba(26,26,26,.10), transparent 55%),
        var(--bg);
      color:var(--text);
    }
    a{color:inherit}
    .wrap{max-width:1080px;margin:0 auto;padding:26px}
    .hero{
      background: linear-gradient(180deg, rgba(245,196,0,.22), rgba(245,196,0,.08));
      border:1px solid rgba(245,196,0,.45);
      border-radius: var(--radius);
      padding:22px;
      box-shadow: var(--shadow);
    }
    .badge{
      display:inline-flex;gap:8px;align-items:center;
      padding:6px 10px;border-radius:999px;
      background: rgba(26,26,26,.92);
      border:1px solid rgba(26,26,26,.92);
      color: #fff;
      font-size:12px;
    }
    h1{margin:10px 0 8px;font-size:30px;line-height:1.1}
    .sub{margin:0;color:rgba(18,18,18,.78);max-width:820px}
    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:16px;
      margin-top:16px;
      align-items:start;
    }
    @media (max-width: 920px){
      .grid{grid-template-columns:1fr}
    }
    .card{
      background: var(--card);
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding:18px;
      box-shadow: var(--shadow);
    }
    .card h2{margin:0 0 6px;font-size:18px}
    .muted{color:var(--muted);font-size:13px}
    label{display:block;margin:12px 0 6px;font-size:14px;color: rgba(18,18,18,.88)}
    input, textarea{
      width:100%;
      padding:12px 12px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--text);
      font-size:15px;
      outline:none;
    }
    input::placeholder, textarea::placeholder{color: rgba(18,18,18,.45)}
    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 520px){
      .row{grid-template-columns:1fr}
    }
    .unitbar{
      display:flex;gap:10px;align-items:center;justify-content:space-between;
      padding:10px 12px;border-radius: 14px;
      border:1px solid var(--border);
      background: rgba(245,247,251,.9);
      margin-top:10px;
    }
    .seg{
      display:flex;gap:6px;align-items:center;
      border:1px solid var(--border);
      background: #fff;
      border-radius: 999px;
      padding:4px;
    }
    .seg button{
      border:0;border-radius:999px;
      padding:8px 12px;
      font-size:13px;
      background: transparent;
      color: rgba(18,18,18,.70);
      cursor:pointer;
    }
    .seg button.active{
      background: rgba(245,196,0,.85);
      color: #111;
      border:1px solid rgba(245,196,0,.95);
    }
    .btn{
      width:100%;
      border:0;
      border-radius: 14px;
      padding:12px 14px;
      cursor:pointer;
      font-weight:800;
      font-size:15px;
      background: var(--accent);
      color:#111;
      margin-top:14px;
      box-shadow: 0 12px 28px rgba(245,196,0,.25);
    }
    .btn.secondary{
      background: var(--accentDark);
      color: #fff;
      border:1px solid rgba(26,26,26,.95);
      margin-top:10px;
      font-weight:800;
      box-shadow: none;
    }
    .result{
      margin-top:14px;
      padding:14px;
      border-radius: 16px;
      background: rgba(245,196,0,.10);
      border:1px solid rgba(245,196,0,.35);
    }
    .price{
      margin:0;
      font-size:24px;
      font-weight:900;
      letter-spacing:.2px;
    }
    .timebox{
      margin-top:10px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 520px){
      .timebox{grid-template-columns:1fr}
    }
    .pill{
      padding:10px 12px;
      border-radius: 14px;
      border:1px solid rgba(18,18,18,.12);
      background: #fff;
      font-size:13px;
      color: rgba(18,18,18,.72);
    }
    .pill b{color: var(--text)}
    .ctaRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .ctaRow a{
      text-decoration:none;
      padding:10px 12px;border-radius: 14px;
      border:1px solid rgba(18,18,18,.14);
      background: #fff;
      color: var(--text);
      font-weight:800;
      font-size:14px;
    }
    .ctaRow a.primary{
      background: rgba(26,26,26,.92);
      color: #fff;
      border:1px solid rgba(26,26,26,.92);
    }
    .hr{height:1px;background: rgba(18,18,18,.10);margin:16px 0}
    .small{font-size:12px;color: rgba(18,18,18,.60)}

    /* Modal (FIX: allow scrolling on mobile) */
    .modal{
      position:fixed;inset:0;display:none;
      background: rgba(0,0,0,.55);
      padding:16px;
      z-index:50;
      overflow:auto;
      -webkit-overflow-scrolling: touch;
    }
    .modal.open{display:block}
    .modalCard{
      max-width: 980px;
      margin: 2vh auto;
      background: #fff;
      border:1px solid rgba(18,18,18,.16);
      border-radius: 22px;
      box-shadow: 0 20px 70px rgba(0,0,0,.25);
      overflow:hidden;
      max-height: 92vh;
      display:flex;
      flex-direction:column;
    }
    .modalHeader{
      display:flex;justify-content:space-between;align-items:center;
      padding:14px 16px;
      border-bottom:1px solid rgba(18,18,18,.10);
      background: rgba(245,196,0,.22);
    }
    .modalHeader h3{margin:0;font-size:16px}
    .closeBtn{
      border:1px solid rgba(18,18,18,.16);
      background: rgba(26,26,26,.92);
      color: #fff;
      border-radius: 12px;
      padding:8px 10px;
      cursor:pointer;
      font-weight:900;
    }
    .modalBody{
      padding:14px 16px;
      overflow:auto;
      -webkit-overflow-scrolling: touch;
    }
    .gallery{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 860px){
      .gallery{grid-template-columns:1fr}
    }
    .gItem{
      border:1px solid rgba(18,18,18,.12);
      border-radius: 16px;
      overflow:hidden;
      background: #fff;
    }
    .gItem .cap{
      padding:10px 12px;
      color: rgba(18,18,18,.70);
      font-size:13px;
      background: rgba(245,196,0,.10);
      border-bottom:1px solid rgba(18,18,18,.08);
    }
    .gItem img{
      width:100%;
      display:block;
      background:#fff;
    }
    .gTitle{
      font-weight:900;
      color: var(--text);
      margin-right:8px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <section class="hero">
      <div class="badge">Toronto & GTA • Deep Cleaning • +30 min FREE</div>
      <h1>Deep Cleaning Price Calculator</h1>
      <p class="sub">Enter the details to get a time-based estimate. Minimum order price is <b>$195</b> for <b>5 hours</b>, plus <b>30 minutes FREE</b> on top.</p>
    </section>

    <div class="grid">
      <section class="card" id="calculator">
        <h2>Estimate</h2>
        <div class="muted">Fill in the fields and click “Calculate”.</div>

        <div class="row">
          <div>
            <label>Bedrooms</label>
            <input id="bedrooms" type="number" min="0" value="1" />
          </div>
          <div>
            <label>Bathrooms</label>
            <input id="bathrooms" type="number" min="0" value="1" />
          </div>
        </div>

        <label>Kitchens</label>
        <input id="kitchens" type="number" min="0" value="1" />

        <div class="unitbar">
          <div>
            <div style="font-weight:900">Area unit</div>
            <div class="muted" id="unitHint">Default: sq ft</div>
          </div>
          <div class="seg" role="tablist" aria-label="Area unit">
            <button id="unitSqft" class="active" type="button" aria-selected="true">sq ft</button>
            <button id="unitM2" type="button" aria-selected="false">m²</button>
          </div>
        </div>

        <label id="areaLabel">Total area (sq ft)</label>
        <input id="area" type="number" min="0" value="800" placeholder="e.g., 800" />

        <button class="btn" id="calcBtn" type="button">Calculate</button>
        <button class="btn secondary" id="includedBtn" type="button">What’s included in deep cleaning?</button>

        <div class="result" aria-live="polite">
          <p class="price" id="priceText">Estimated price: —</p>
          <div class="muted" id="priceNote">Final price depends on the condition and level of soiling.</div>

          <div class="timebox">
            <div class="pill" id="billableTime">Billable time: <b>—</b></div>
            <div class="pill" id="onsiteTime">On-site time: <b>—</b></div>
          </div>

          <div class="ctaRow">
            <a class="primary" href="#lead">Get an exact quote</a>
            <a href="#pricing">How pricing works</a>
          </div>
        </div>

        <div class="small" style="margin-top:10px">
          * This is an estimate based on size and layout. Deep cleaning complexity can change the final time and price.
        </div>
      </section>

      <aside class="card" id="pricing">
        <h2>How pricing works</h2>
        <p class="muted" style="margin:0 0 10px">
          We calculate an <b>estimated billable time</b> from your bedrooms, bathrooms, kitchens, and area.
          Billing has a <b>5-hour minimum</b> plus <b>30 minutes free</b> added to the total on-site time.
          Minimum order is <b>$195</b>.
        </p>

        <div class="hr"></div>

        <h2 style="margin-top:0">Adjust your rates</h2>
        <p class="muted" style="margin:0">
          You can change the hourly rate and time multipliers inside the <b>PRICING</b> block in the code.
        </p>

        <div class="hr"></div>

        <ul class="muted" style="margin:0;padding-left:18px">
          <li>Minimum billable time: <b>5.0 hours</b></li>
          <li>Always included: <b>+0.5 hours (FREE)</b></li>
          <li>Minimum order price: <b>$195</b></li>
          <li>We show a <b>price range</b> to avoid “fixed price” misunderstandings.</li>
        </ul>
      </aside>
    </div>

    <section class="card" id="lead" style="margin-top:16px">
      <h2>Get an exact quote</h2>
      <div class="muted">Leave your contact and a short description. We’ll confirm time & final price.</div>

      <form action="https://formspree.io/f/YOUR_ID_HERE" method="POST">
        <label>Name</label>
        <input name="name" required placeholder="Your name" />

        <label>Phone / messenger</label>
        <input name="contact" required placeholder="+1 (___) ___-____ or @telegram" />

        <label>Notes</label>
        <textarea name="message" rows="4" placeholder="Any pets? What needs extra attention? Preferred date/time?"></textarea>

        <input type="hidden" name="estimated_price_range" id="hiddenPrice" value="" />
        <input type="hidden" name="estimated_billable_hours" id="hiddenBillable" value="" />
        <input type="hidden" name="estimated_onsite_hours" id="hiddenOnsite" value="" />
        <input type="hidden" name="area_unit" id="hiddenUnit" value="sqft" />
        <input type="hidden" name="area_sqft" id="hiddenAreaSqft" value="" />

        <button class="btn" type="submit">Send</button>
        <div class="small">By clicking “Send”, you agree to the processing of your data for contact purposes.</div>
      </form>
    </section>
  </div>

  <div class="modal" id="includedModal" role="dialog" aria-modal="true" aria-labelledby="includedTitle">
    <div class="modalCard">
      <div class="modalHeader">
        <h3 id="includedTitle">What’s included in deep cleaning</h3>
        <button class="closeBtn" id="closeModal" type="button">Close</button>
      </div>
      <div class="modalBody">
        <div class="muted" style="margin-bottom:12px">Scroll to view the full checklist images.</div>
        <div class="gallery">
          <div class="gItem">
            <div class="cap"><span class="gTitle">Bedrooms</span> deep cleaning tasks</div>
            <img src="assets/deep-cleaning-bedrooms.jpg" alt="Deep cleaning bedrooms tasks" loading="lazy" />
          </div>
          <div class="gItem">
            <div class="cap"><span class="gTitle">Kitchen</span> deep cleaning tasks</div>
            <img src="assets/deep-cleaning-kitchen.jpg" alt="Deep cleaning kitchen tasks" loading="lazy" />
          </div>
          <div class="gItem">
            <div class="cap"><span class="gTitle">Bathroom</span> deep cleaning tasks</div>
            <img src="assets/deep-cleaning-bathroom.jpg" alt="Deep cleaning bathroom tasks" loading="lazy" />
          </div>
          <div class="gItem">
            <div class="cap"><span class="gTitle">General spaces</span> deep cleaning tasks</div>
            <img src="assets/deep-cleaning-general-spaces.jpg" alt="Deep cleaning general spaces tasks" loading="lazy" />
          </div>
        </div>
        <div class="small" style="margin-top:12px">Add-ons (upholstery, carpet, oven, fridge, windows) can be added as extra time.</div>
      </div>
    </div>
  </div>

  <script>
    // ====== PRICING SETTINGS (edit to match your rates) ======
    const PRICING = {
      currency: "$",
      hourlyRate: 39,           // $195 / 5 hours
      minBillableHours: 5.0,    // minimum billable time
      freeBonusHours: 0.5,      // always FREE (+30 minutes)
      minOrderPrice: 195,       // minimum price (hard floor)

      // Time model (tune these to match your crew speed)
      baseHours: 1.0,
      hoursPerBedroom: 0.75,
      hoursPerBathroom: 1.05,
      hoursPerKitchen: 1.30,
      hoursPer1000Sqft: 1.00,

      // Price range buffer to avoid "fixed price" misunderstanding
      rangeMultiplierHigh: 1.15
    };

    let currentUnit = "sqft"; // default

    const els = {
      bedrooms: document.getElementById("bedrooms"),
      bathrooms: document.getElementById("bathrooms"),
      kitchens: document.getElementById("kitchens"),
      area: document.getElementById("area"),
      areaLabel: document.getElementById("areaLabel"),
      unitSqft: document.getElementById("unitSqft"),
      unitM2: document.getElementById("unitM2"),
      unitHint: document.getElementById("unitHint"),
      calcBtn: document.getElementById("calcBtn"),
      includedBtn: document.getElementById("includedBtn"),
      includedModal: document.getElementById("includedModal"),
      closeModal: document.getElementById("closeModal"),
      priceText: document.getElementById("priceText"),
      priceNote: document.getElementById("priceNote"),
      billableTime: document.getElementById("billableTime"),
      onsiteTime: document.getElementById("onsiteTime"),
      hiddenPrice: document.getElementById("hiddenPrice"),
      hiddenBillable: document.getElementById("hiddenBillable"),
      hiddenOnsite: document.getElementById("hiddenOnsite"),
      hiddenUnit: document.getElementById("hiddenUnit"),
      hiddenAreaSqft: document.getElementById("hiddenAreaSqft"),
    };

    const SQFT_PER_M2 = 10.76391041671;

    function clamp(n){ return (!Number.isFinite(n) || n < 0) ? 0 : n; }
    function roundUpHalf(n){ return Math.ceil(n * 2) / 2; }

    function areaToSqft(area, unit){
      if (unit === "m2") return area * SQFT_PER_M2;
      return area;
    }

    function computeBillableHours({ bedrooms, bathrooms, kitchens, area, unit }){
      bedrooms = clamp(bedrooms);
      bathrooms = clamp(bathrooms);
      kitchens = clamp(kitchens);
      area = clamp(area);

      const areaSqft = areaToSqft(area, unit);

      let hours =
        PRICING.baseHours +
        bedrooms * PRICING.hoursPerBedroom +
        bathrooms * PRICING.hoursPerBathroom +
        kitchens * PRICING.hoursPerKitchen +
        (areaSqft / 1000) * PRICING.hoursPer1000Sqft;

      hours = roundUpHalf(hours);

      const billable = Math.max(PRICING.minBillableHours, hours);

      return { billableHours: billable, areaSqft };
    }

    function computePriceRange(billableHours){
      let base = billableHours * PRICING.hourlyRate;
      base = Math.max(base, PRICING.minOrderPrice);

      const low = Math.round(base);
      const high = Math.max(low, Math.round(base * PRICING.rangeMultiplierHigh));
      return { low, high };
    }

    function getInputs(){
      return {
        bedrooms: Number(els.bedrooms.value),
        bathrooms: Number(els.bathrooms.value),
        kitchens: Number(els.kitchens.value),
        area: Number(els.area.value),
        unit: currentUnit
      };
    }

    function setUnit(unit){
      currentUnit = unit;
      els.hiddenUnit.value = unit;

      if (unit === "sqft"){
        els.unitSqft.classList.add("active");
        els.unitM2.classList.remove("active");
        els.unitSqft.setAttribute("aria-selected", "true");
        els.unitM2.setAttribute("aria-selected", "false");
        els.areaLabel.textContent = "Total area (sq ft)";
        els.unitHint.textContent = "Default: sq ft";
      } else {
        els.unitM2.classList.add("active");
        els.unitSqft.classList.remove("active");
        els.unitM2.setAttribute("aria-selected", "true");
        els.unitSqft.setAttribute("aria-selected", "false");
        els.areaLabel.textContent = "Total area (m²)";
        els.unitHint.textContent = "Converted to sq ft for calculation";
      }
    }

    function renderEstimate(){
      const inputs = getInputs();

      if (!inputs.area || inputs.area <= 0){
        els.priceText.textContent = "Estimated price: —";
        els.priceNote.textContent = "Enter a valid area to calculate.";
        els.billableTime.innerHTML = 'Billable time: <b>—</b>';
        els.onsiteTime.innerHTML = 'On-site time: <b>—</b>';
        els.hiddenPrice.value = "";
        els.hiddenBillable.value = "";
        els.hiddenOnsite.value = "";
        els.hiddenAreaSqft.value = "";
        return;
      }

      const { billableHours, areaSqft } = computeBillableHours(inputs);
      const onsiteHours = billableHours + PRICING.freeBonusHours;
      const { low, high } = computePriceRange(billableHours);

      els.priceText.innerHTML = `Estimated price: <span style="background:rgba(26,26,26,.92);color:#fff;padding:4px 10px;border-radius:999px">${PRICING.currency}${low}–${PRICING.currency}${high}</span>`;
      els.priceNote.textContent = "Time-based estimate. Final price depends on condition and level of soiling.";

      els.billableTime.innerHTML = `Billable time: <b>${billableHours.toFixed(1)} hrs</b>`;
      els.onsiteTime.innerHTML = `On-site time: <b>${onsiteHours.toFixed(1)} hrs</b> (+30 min FREE)`;

      els.hiddenPrice.value = `${PRICING.currency}${low}–${PRICING.currency}${high}`;
      els.hiddenBillable.value = billableHours.toFixed(1);
      els.hiddenOnsite.value = onsiteHours.toFixed(1);
      els.hiddenAreaSqft.value = Math.round(areaSqft).toString();
    }

    els.unitSqft.addEventListener("click", () => { setUnit("sqft"); renderEstimate(); });
    els.unitM2.addEventListener("click", () => { setUnit("m2"); renderEstimate(); });

    els.calcBtn.addEventListener("click", renderEstimate);

    function openModal(){
      els.includedModal.classList.add("open");
      document.body.style.overflow = "hidden";
    }
    function closeModal(){
      els.includedModal.classList.remove("open");
      document.body.style.overflow = "";
    }
    els.includedBtn.addEventListener("click", openModal);
    els.closeModal.addEventListener("click", closeModal);
    els.includedModal.addEventListener("click", (e) => {
      if (e.target === els.includedModal) closeModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    setUnit("sqft");
    renderEstimate();
  </script>
</body>
</html>
